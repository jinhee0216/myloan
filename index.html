<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>마이론 접수신청</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(to bottom right, #ffffff, #f0f0f0);
    }
    input, textarea {
      transition: border 0.2s ease, box-shadow 0.2s ease;
    }
    input:focus, textarea:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px #6366f1;
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl overflow-hidden">
    <img src="img/banner.png" class="w-full object-cover" />
    <form id="심사양식" class="p-6 sm:p-10 space-y-6 bg-white">

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm text-gray-600 mb-1">고객명<span class="text-red-500">*</span></label>
          <input type="text" name="고객명" required class="w-full border rounded-md p-2" placeholder="예) 홍길동" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">연락처<span class="text-red-500">*</span></label>
          <div class="flex gap-2">
            <input type="text" id="phone1" maxlength="3" required class="w-full border rounded-md p-2 text-center" placeholder="010" />
            <input type="text" id="phone2" maxlength="4" required class="w-full border rounded-md p-2 text-center" placeholder="1234" />
            <input type="text" id="phone3" maxlength="4" required class="w-full border rounded-md p-2 text-center" placeholder="5678" />
          </div>
          <input type="hidden" name="연락처" id="fullPhone" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">상호명<span class="text-red-500">*</span></label>
          <input type="text" name="상호명" required class="w-full border rounded-md p-2" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">오프라인 카드매출(배달,스토어등 매출제외)<span class="text-red-500">*</span></label>
          <input type="text" name="카드매출" required class="w-full border rounded-md p-2" placeholder="예) 천만원" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">지역<span class="text-red-500">*</span></label>
          <input type="text" name="지역" required class="w-full border rounded-md p-2" placeholder="예) 서울 종로구" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">개업년월<span class="text-red-500">*</span></label>
          <input type="text" name="개업년월" required class="w-full border rounded-md p-2" placeholder="예) 20/04" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">임대료/보증금<span class="text-red-500">*</span></label>
          <input type="text" name="임대료보증금" required class="w-full border rounded-md p-2" placeholder="예) 1000/80" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">신용정보등록(개인회생,신용회복,새출발기금 등)<span class="text-red-500">*</span></label>
          <input type="text" name="신용정보등록" required class="w-full border rounded-md p-2 placeholder:text-sm" placeholder="예)개인회생/변제15회차/미납1회차(해당되지않는경우 없음)" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">세금체납<span class="text-red-500">*</span></label>
          <input type="text" name="세금체납" required class="w-full border rounded-md p-2 placeholder:text-sm" placeholder="예)부가세1000만원/해당되지 않는경우 없음" />
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1">정책자금 이용유무(기관/날짜/금액)<span class="text-red-500">*</span></label>
          <input type="text" name="정책자금" required class="w-full border rounded-md p-2" placeholder="예)신용보증재단 작년6월 3천만원" />
        </div>
      </div>

      <div class="flex items-center">
        <input type="checkbox" required class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" />
        <span class="ml-2 text-sm text-gray-600">
          <a href="#" onclick="document.getElementById('privacyModal').classList.remove('hidden')" class="text-indigo-600 underline">개인정보 처리방침</a>에 동의합니다.
        </span>
      </div>

      <div class="flex items-center">
        <input type="checkbox" name="마케팅동의" value="동의함" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" />
        <span class="ml-2 text-sm text-gray-600">마케팅 정보 수신에 동의합니다. (선택)</span>
      </div>

      <div class="text-center">
        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-md text-sm font-medium">
          제출
        </button>
      </div>
    </form>

    <div id="successMessage" class="hidden text-center py-10">
      <h1 class="text-2xl font-bold text-gray-800 mb-4">신청서 접수가 완료되었습니다.</h1>
      <p class="text-sm text-gray-600 mb-4">감사합니다. 제출해주신 내용 확인 후 담당자가 연락드리겠습니다.</p>
      <a class="inline-block bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" href="index.html">돌아가기</a>
    </div>
  </div>

  <!-- 개인정보 처리방침 모달 -->
  <div id="privacyModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-6 max-w-2xl w-full rounded-lg shadow-lg overflow-y-auto max-h-[80vh] relative">
      <button onclick="document.getElementById('privacyModal').classList.add('hidden')" class="absolute top-2 right-3 text-gray-500 hover:text-black text-2xl">&times;</button>
      <h2 class="text-xl font-bold mb-4">개인정보 수집 및 이용동의서</h2>
      <p class="text-sm text-gray-700">
        마이론(이하 "회사")은 『개인정보 보호법』 등 관련 법령에 따라 귀하의 개인정보를 다음과 같이 수집·이용하고자 합니다.<br/><br/>
        <strong>1. 수집 항목</strong><br/>
        고객명, 연락처, 상호명, 지역, 개업년월, 임대료/보증금, 신용정보등록 여부, 세금체납 여부, 정책자금 이용여부, 마케팅 수신 동의 여부 (선택)<br/><br/>
        <strong>2. 수집 및 이용 목적</strong><br/>
        정책자금 상담 및 접수 업무, 사후 연락 등<br/><br/>
        <strong>3. 보유 및 이용 기간</strong><br/>
        수집일로부터 1년간 보관 후 파기 (법령에 따라 보존 필요 시 예외)<br/><br/>
        <strong>4. 동의 거부 권리</strong><br/>
        귀하는 개인정보 제공에 대해 거부할 권리가 있으며, 거부 시 서비스 제공이 제한될 수 있습니다.
      </p>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    const GAS_URL = 'https://script.google.com/macros/s/AKfycbxqmi4BwIkspqyee3SFC6fYN4HWP6Uhp5krp3ifCrb35E2_UwsgMfpqGHUHuP5NEzYfIQ/exec';

    $('#심사양식').on('submit', function(e) {
      e.preventDefault();
      const phone1 = $('#phone1').val();
      const phone2 = $('#phone2').val();
      const phone3 = $('#phone3').val();
      const fullPhone = `${phone1}-${phone2}-${phone3}`;
      $('#fullPhone').val(fullPhone);

      const formData = $(this).serialize();
      $('#심사양식').hide();
      $('#successMessage').removeClass('hidden').show();

      $.post(GAS_URL, formData)
        .fail(() => {
          alert('❌ 제출 중 오류가 발생했습니다. 다시 시도해주세요.');
        })
    });

    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('selectstart', e => e.preventDefault());
  </script>
</body>
</html>
